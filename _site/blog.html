<!DOCTYPE html>
<html lang="en">
  <head>

    <meta charset="utf-8" />
    
    <!-- Always force latest IE rendering engine (even in intranet) & Chrome Frame -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    
    <title>BeatleTech // Coen Stevens // Freelance web developer // Blog</title>
    
    <meta name="description" content="Freelance company BeatleTech by Coen Stevens" />

    
    <meta name="keywords" content="web development, freelance web developer, freelance web Programmer, beatlevic, web developer, Coen Stevens" />
    

    <meta name="author" content="Coen Stevens" />
    
    <link href="css/960.css" rel="stylesheet" type="text/css" />
    <link href="style.css" rel="stylesheet" type="text/css" />
    <link href="css/syntax.css" rel="stylesheet" type="text/css" />

    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon"/>
    <link rel="alternate" type="application/atom+xml" title="Recent Posts" href="http://feeds.feedburner.com/beatletech" />
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4/jquery.min.js"></script>
    <script type="text/javascript" src="js/script.js"></script>

    

    <!--[if lt IE 9]>
      <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js" type="text/javascript"></script>
    <![endif]-->
       
    <!--[if lte IE 7]>
      <link href="css/ie.css" rel="stylesheet" type="text/css" />
    <![endif]-->

    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-20231246-1']);
      _gaq.push(['_trackPageview']);

      (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

    </script>

  </head>
  
  <body >

    <div id="wrapper" class="container_12">

      <header id="header" class="grid_12">
                
        <h1><a href="index.html">BeatleTech</a></h1>
        <img src="images/coen.jpg" alt="" class="thumbnail alignright" />
        <div id="freelancer">Coen Stevens // Freelance web developer</div>
      </header> <!-- end header -->
      
      <div id="content">

        <nav>
          <ul id="menu" class="clearfix">
            <li ><a href="index.html">Home</a></li>
            <li ><a href="about.html">About</a></li>
            <li ><a href="contact.html">Contact</a></li>
            <li class="current"><a href="blog.html">Blog</a></li>
            <li> <a href="nl/index.html">Nederlands</a></li>
          </ul>
          <br class="clear" />
        </nav>
        
        <!-- Show a "Please Upgrade" box to both IE7 and IE6 users 
             (Edit to IE 6 if you just want to show it to IE6 users) - 
             jQuery will load the content from js/ie.html into the div -->
        
        <!--[if lte IE 7]>
            <div class="ie grid_7"></div>
        <![endif]-->

        


<!-- <div class="cloud"> -->
<!--   <aside> -->
<!--     <h4>Topic list</h4> -->
<!--     Included file 'cloud.html' not found in _includes directory -->
<!--   </aside> -->
<!-- </div>  -->

<div id="main" class="grid_8 alpha">
  <!-- limit:1 -->    
  
  <div class="post">  
    <h2><a href="/2010/12/23/cake-swank">Cake and Emacs: cake-swank</a></h2>
    <p class="publishdate">Thursday, 23 December  2010  <em> <a href="http://www.google.com/search?q=+site%3Abeatltech.com/blog"></a> </em> </p>
    <p><p>So far I have been using <a href="https://github.com/technomancy/leiningen">leiningen</a> as my
standard build tool for Clojure, and together with a very nice Emacs package
called <a href="http://blog.remvee.net/2010/08/19/elein_el_leiningen_functions_for_emacs">elein</a>
I was able to run leiningen tasks from within emacs. The functions I use
 most often are elein-swank and elein-reswank to (re)connect with slime.</p>

<p>Now this is all great, but lately an alternative build tool has catched my
eyes and is called <a href="https://github.com/ninjudd/cake">cake</a>. It features a
persistent JVM, which speeds up startup time tremendeously, and has an
easier way for setting up tasks similar to ruby rake
tasks. Now in order to make my swanking and reswanking work in emacs
with cake I thought of reusing the elein-swank code, but as it turns
out, in order to kill swank I had to kill cake and thereby killing the
persistent JVM (missing the whole purpose). So instead of doing that I
got the advice to just keep swank running, and only reload the
classpath. This resulted in me implementing the following elisp function.</p>

<div class="highlight"><pre><code class="clojure"><span class="p">(</span><span class="nf">defun</span> <span class="nv">cake-swank</span> <span class="p">()</span>
  <span class="s">&quot;Connect or reconnect to swank while reloading cake class path files with cake -r.&quot;</span>
  <span class="p">(</span><span class="nf">interactive</span><span class="p">)</span>
  <span class="p">(</span><span class="k">if </span><span class="p">(</span><span class="nf">slime-connected-p</span><span class="p">)</span> <span class="p">(</span><span class="nf">slime-disconnect</span><span class="p">))</span>
  <span class="p">(</span><span class="k">let </span><span class="p">((</span><span class="nf">buffer</span> <span class="p">(</span><span class="nf">get-buffer-create</span> <span class="nv">ecake-swank-buffer-name</span><span class="p">)))</span>
    <span class="p">(</span><span class="nf">flet</span> <span class="p">((</span><span class="nf">display-buffer</span> <span class="p">(</span><span class="nf">buffer-or-name</span> <span class="nv">&amp;optional</span> <span class="nv">not-this-window</span> <span class="nv">frame</span><span class="p">)</span> <span class="nv">nil</span><span class="p">))</span>
      <span class="p">(</span><span class="nf">bury-buffer</span> <span class="nv">buffer</span><span class="p">)</span>
      <span class="p">(</span><span class="nf">ecake-in-project-root</span> <span class="p">(</span><span class="nf">shell-command</span> <span class="s">&quot;cake -r&quot;</span> <span class="nv">buffer</span><span class="p">)))</span>
    <span class="p">(</span><span class="nf">slime-connect</span> <span class="s">&quot;127.0.0.1&quot;</span> <span class="s">&quot;4005&quot;</span><span class="p">)))</span>
</code></pre>
</div>


<p>In order for this to work one needs to get the latest cake master
version, so you can reload class path files (cake -r). Additionally one has
to turn on swank autostart for cake. This can be done by adding the
line "swank.autostart = localhost:4005" to your .cake/config file.</p>

<p>So now you can easily switch to cake, keeping reswank in your toolset.</p>

<p>Tip: If you find yourself always getting the following mini-buffer
message when connecting with slime: "Versions differ: nil (slime)
vs. 20100404 (swank). Continue? (y or n)", then all you should do is
removing the slime.elc file in your .emacs.d/elpa/slime-X folder, and
consider it history.</p>
 
      <div class="comments">
	<span style="font-size: 100%;"><a href="/2010/12/23/cake-swank/#disqus_thread">View Comments</a> </span>
      </div>
    </p>
  </div>
  
  <div class="post">  
    <h2><a href="/2010/12/19/beatletech-online">BeatleTech online</a></h2>
    <p class="publishdate">Sunday, 19 December  2010  <em> <a href="http://www.google.com/search?q=+site%3Abeatltech.com/blog"></a> </em> </p>
    <p><p>With BeatleTech life and kicking, I found it about time to add some blogging
functionality, and to start writing about my ongoing work, research and
serendipity events.</p>

<p>In my ongoing work you will find me blogging about my emacs journey,
my clojure lessons, rails mambo, and basically any other technology I
will be working with. Further more in my research I will cover topics in
cognitive science, human perception and AI, but all in due time.</p>

<p>If you are in need for an architect, developer or advisor, then know that
BeatleTech is there for you, and Beatle is available for hire!</p>
 
      <div class="comments">
	<span style="font-size: 100%;"><a href="/2010/12/19/beatletech-online/#disqus_thread">View Comments</a> </span>
      </div>
    </p>
  </div>
  

</div> <!-- end main -->

<div id="sidebar" class="grid_4 omega">

  <aside>
    <h3>Recent posts <a href="http://feeds.feedburner.com/beatletech"><img src="images/feed.png"
    border="0"/></a></h3>

    <table>
      <tbody>

        
        <tr class="posttr">
          <td class="date">23 Dec 2010</td>
          <td class="postlink"><a href="/2010/12/23/cake-swank/">Cake and Emacs: cake-swank</a></td>
        </tr>
        
        <tr class="posttr">
          <td class="date">19 Dec 2010</td>
          <td class="postlink"><a href="/2010/12/19/beatletech-online/">BeatleTech online</a></td>
        </tr>
        
      </tbody>
    </table>
  </aside>
  
</div> <!-- end sidebar -->


        </div> <!-- end content -->
      
      <footer id="footer" class="grid_12">
        <p>Copyright &copy; 2010 <a href="#">BeatleTech.com</a> -
          Created by <a href="http://beatletech.com" title="BeatleTech by Coen Stevens">Coen Stevens</a></p>
      </footer>
      
      <div class="clear"></div>

      <script type="text/javascript" src="js/sweet-justice.min.js"></script>

      <script type="text/javascript">
        //<![CDATA[
         (function() {
           var links = document.getElementsByTagName('a');
           var query = '?';
           for(var i = 0; i < links.length; i++) {
             if(links[i].href.indexOf('#disqus_thread') >= 0) {
               query += 'url' + i + '=' + encodeURIComponent(links[i].href) + '&';
             }
           }
         document.write('<script charset="utf-8" type="text/javascript" src="http://disqus.com/forums/beatletech/get_num_replies.js' + query + '"></' + 'script>');
        })();
        //]]>
      </script>

    </div> <!-- end wrapper -->

  </body>
</html>
